(()=>{var e={};e.id=286,e.ids=[286],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},10999:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=t(70260),a=t(28203),i=t(25155),n=t.n(i),l=t(67292),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(r,o);let d=["",{children:["admin",{children:["property-management",{children:["create-listing",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,17210)),"C:\\Users\\KINPLUS\\Documents\\Tochi\\Projects\\ezyrent-web\\app\\admin\\property-management\\create-listing\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,97983)),"C:\\Users\\KINPLUS\\Documents\\Tochi\\Projects\\ezyrent-web\\app\\admin\\property-management\\layout.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,19611)),"C:\\Users\\KINPLUS\\Documents\\Tochi\\Projects\\ezyrent-web\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,61129)),"C:\\Users\\KINPLUS\\Documents\\Tochi\\Projects\\ezyrent-web\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\KINPLUS\\Documents\\Tochi\\Projects\\ezyrent-web\\app\\admin\\property-management\\create-listing\\page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/property-management/create-listing/page",pathname:"/admin/property-management/create-listing",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},58133:(e,r,t)=>{Promise.resolve().then(t.bind(t,17210))},99989:(e,r,t)=>{Promise.resolve().then(t.bind(t,39393))},39393:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>eb});var s=t(45512),a=t(58009),i=t.n(a),n=t(6868),l=t(81914),o=t(79334),d=t(41680);let c=(0,d.A)("MoveLeft",[["path",{d:"M6 8L2 12L6 16",key:"kyvwex"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);var m=t(87021),u=t(998),p=t(54479),h=t(91542);let x=["1 year","2 years","3 years"],f=["apartment","shortlet","flat","hotel","condo"],g=["1 bed","2 beds","3 beds","4 beds","5+ beds"],b=["1 bath","2 baths","3 baths","4 baths","5+ baths"],v=["Gym","POP Ceiling","Water Treatment","Security","Parking Space","Spacious Compound","24/7 Electricity","Supermarket Nearby","Swimming Pool","Fast Internet","Restaurants Nearby","Free WiFi"],y=(e,r,t,s)=>{let a=Array.from(e).filter(e=>e.type.startsWith("image/")||e.type.startsWith("video/"));if(0===a.length){h.o.error("Invalid file type. Please upload images or videos.");return}a.forEach(e=>{if(e.size>5242880){h.o.error(`File ${e.name} exceeds 25MB limit`);return}let a=new FileReader;a.onloadend=()=>{let i=a.result;if("primary"===r)t("primaryFile",{name:e.name,data:i});else{let r=s("otherFiles")||[];r.length<7?t("otherFiles",[...r,{name:e.name,data:i}]):h.o.error("Maximum of 7 additional files allowed")}},a.readAsDataURL(e)})};var j=t(25409),N=t(59462);let w=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("textarea",{className:(0,N.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...r}));function F({className:e,minValue:r,maxValue:t}){return(0,s.jsxs)("section",{className:`${e} bg-[#E6E6E6] text-[#000929] px-[10px] py-[6px] rounded-[6px]`,children:[(0,s.jsx)("span",{children:r}),"/",(0,s.jsx)("span",{children:t})]})}w.displayName="Textarea";var P=t(45103);let k=(0,d.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function C({src:e,onClick:r,onDelete:t}){return(0,s.jsx)("div",{className:"relative group cursor-pointer overflow-hidden rounded-lg aspect-square",onClick:r,children:e?(0,s.jsxs)(s.Fragment,{children:["string"==typeof e&&(e.endsWith(".mp4")||e.endsWith(".webm")||e.startsWith("data:video"))?(0,s.jsx)("video",{src:e,controls:!1,className:"object-cover h-full max-h-[200px] w-full transition-transform duration-300 group-hover:scale-110",onMouseEnter:e=>e.currentTarget.play(),onMouseLeave:e=>e.currentTarget.pause(),muted:!0}):(0,s.jsx)(P.default,{src:e,alt:"Media preview",fill:!0,className:"object-cover transition-transform duration-300 group-hover:scale-110"}),(0,s.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),t()},className:"absolute top-2 right-2 bg-white p-2 rounded-full shadow hover:bg-red-500 hover:text-white transition",children:(0,s.jsx)(k,{size:20})})]}):(0,s.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,s.jsx)("p",{className:"text-gray-500",children:"No media available"})})})}var E=t(44269);let z=(0,d.A)("CircleChevronLeft",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14 16-4-4 4-4",key:"ojs7w8"}]]),D=(0,d.A)("CircleChevronRight",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m10 8 4 4-4 4",key:"1wy4r4"}]]);function A({setExpandedOtherFile:e,expandedOtherFile:r,files:t}){let i=(0,a.useRef)(null),n=(0,a.useRef)(null),l=s=>{let a=t.indexOf(r)+s;a>=0&&a<t.length&&e(t[a])};return r?(0,s.jsx)("div",{ref:n,className:"fixed inset-0 bg-black/90 flex items-center justify-center z-[9999]",onClick:r=>{r.target===n.current&&e(null)},children:(0,s.jsxs)("div",{className:"relative bg-white p-4 rounded-lg min-w-[40vw] max-w-[80vw]  max-h-[90vh] flex flex-col items-center",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)(m.$,{variant:"default",className:"absolute top-2 right-2 bg-[#7065F0] hover:bg-[#5A4DE6] text-white size-8 p-2 z-[9999]",onClick:()=>e(null),children:(0,s.jsx)(E.A,{className:"w-full h-full"})}),(0,s.jsxs)("div",{className:"w-full h-full mt-8",children:[(0,s.jsx)("div",{className:"relative flex items-center justify-center min-h-[300px]",children:(e=>{let r=e.toLowerCase();return r.endsWith(".mp4")||r.endsWith(".webm")})(r)?(0,s.jsxs)("video",{ref:i,controls:!0,controlsList:"nodownload",playsInline:!0,className:"max-w-full max-h-[70vh] object-contain",children:[(0,s.jsx)("source",{src:r,type:(e=>{switch(e.toLowerCase().split(".").pop()){case"mp4":default:return"video/mp4";case"webm":return"video/webm"}})(r)}),"Your browser doesn't support this video format."]}):(0,s.jsx)(P.default,{src:r,alt:"Expanded view",className:"max-w-full max-h-[70vh] object-contain",width:800,height:600,priority:!0})}),t.length>1&&(0,s.jsxs)("div",{className:"flex items-center justify-between w-full px-5 py-2 mt-1",children:[(0,s.jsx)(m.$,{variant:"ghost",className:"rounded-full !size-10 disabled:opacity-30",onClick:e=>{e.stopPropagation(),l(-1)},disabled:0===t.indexOf(r),children:(0,s.jsx)(z,{className:"!size-10 text-black"})}),(0,s.jsx)(m.$,{variant:"ghost",className:"rounded-full !size-10 disabled:opacity-30",onClick:e=>{e.stopPropagation(),l(1)},disabled:t.indexOf(r)===t.length-1,children:(0,s.jsx)(D,{className:"!size-10 text-black"})})]})]})]})}):null}function M({watch:e,otherFiles:r=[],primaryFile:t,onImageDelete:i}){var n;let[l,o]=(0,a.useState)(null),d=e();return(0,s.jsxs)("aside",{className:"hidden lg:block w-full max-w-[520px]",children:[(0,s.jsx)("h2",{className:"text-[#000929] text-[1.25rem] font-medium mb-3 capitalize",children:"property listing preview"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"relative w-full min-h-[200px] max-h-[300px] overflow-hidden rounded-[16px] bg-white shadow-md shadow-[#000000]/35 p-4",children:(0,s.jsx)("div",{children:t?.data?(0,s.jsx)(C,{src:t.data,onClick:()=>o(t.data),onDelete:()=>i("primary",0)}):(0,s.jsx)("div",{className:"col-span-3 flex items-center justify-center h-full",children:(0,s.jsx)("p",{className:"text-gray-400",children:"Add the main image"})})})}),(0,s.jsx)(F,{minValue:t?.data?1:0,maxValue:1,className:"w-fit text-[0.75rem] ml-auto mt-2"})]}),(0,s.jsxs)("div",{className:"mt-5",children:[(0,s.jsx)("div",{className:"relative w-full min-h-[200px] max-h-[350px] overflow-y-auto rounded-[16px] bg-white shadow-md shadow-[#000000]/35 p-4",children:(0,s.jsx)("div",{className:"grid grid-cols-[repeat(3,_minmax(0,_150px))] gap-4",children:r.length>0?r.map((e,r)=>(0,s.jsx)(C,{src:e.data,onClick:()=>o(e.data),onDelete:()=>i("other",r)},r)):(0,s.jsx)("div",{className:"col-span-3 flex items-center justify-center h-full",children:(0,s.jsx)("p",{className:"text-gray-400",children:"Add up to 7 images"})})})}),(0,s.jsx)(F,{minValue:r.length,maxValue:7,className:"w-fit text-[0.75rem] ml-auto mt-2"})]}),(0,s.jsxs)("div",{className:"mt-10 w-full relative",children:[(0,s.jsx)(j.p,{value:d.address,disabled:!0,className:"border border-[#E6E6E6] focus-visible:ring-0 focus-visible:outline-0 w-full"}),(0,s.jsx)(F,{minValue:d.address?.length||0,maxValue:150,className:"text-[0.75rem] w-fit mt-2"})]}),(0,s.jsxs)("div",{className:"mt-10 w-full relative",children:[(0,s.jsx)(w,{value:d.description,disabled:!0,className:"border border-[#E6E6E6] focus-visible:ring-0 focus-visible:outline-0 w-full"}),(0,s.jsx)(F,{minValue:d.description?.length||0,maxValue:1500,className:"text-[0.75rem] w-fit mt-2"})]}),(0,s.jsxs)("div",{className:"capitalize flex items-center space-x-3 text-[1.125rem] mt-10",children:[(0,s.jsx)("h3",{className:"capitalize",children:"price"}),(0,s.jsxs)("div",{className:"flex items-center space-x-px",children:[(0,s.jsx)("span",{className:"flex items-center line-through decoration-double",children:"N"}),(0,s.jsx)("span",{children:(n=d.price?.toString()||"0",(0,a.useMemo)(()=>("number"==typeof n?n.toString():n).replace(/\B(?=(\d{3})+(?!\d))/g,","),[n]))})]})]}),(0,s.jsxs)("div",{className:"mt-10 ",children:[(0,s.jsx)("h3",{className:"capitalize",children:"Duration"}),(0,s.jsx)("div",{className:"mt-1 block w-fit rounded-md border border-gray-300 bg-[#F7F7F7] py-2 px-3",children:d.duration})]}),(0,s.jsxs)("div",{className:"mt-10 ",children:[(0,s.jsx)("h3",{className:"capitalize",children:"building Type"}),(0,s.jsx)("div",{className:"mt-1 block w-fit rounded-md border border-gray-300 bg-[#F7F7F7] py-2 px-3",children:d.buildingType})]}),(0,s.jsxs)("div",{className:"mt-10 ",children:[(0,s.jsx)("h3",{className:"capitalize",children:"Beds"}),(0,s.jsx)("div",{className:"mt-1 block w-fit rounded-md border border-gray-300 bg-[#F7F7F7] py-2 px-3",children:d.beds})]}),(0,s.jsxs)("div",{className:"mt-10",children:[(0,s.jsx)("h3",{className:"capitalize",children:"Baths"}),(0,s.jsx)("div",{className:"mt-1 block w-fit rounded-md border border-gray-300 bg-[#F7F7F7] py-2 px-3",children:d.baths})]}),(0,s.jsxs)("div",{className:"mt-10 w-full",children:[(0,s.jsx)("h3",{className:"capitalize",children:"amenities"}),(0,s.jsx)("div",{className:"flex items-center flex-wrap gap-2 text-sm ",children:d.amenities.map(e=>(0,s.jsx)("span",{className:"mt-1 rounded-md border border-[#E6E6E6] bg-[#F7F7F7] py-2 px-3",children:e},e))})]}),l&&(0,s.jsx)(A,{expandedOtherFile:l,setExpandedOtherFile:o,files:r.map(e=>e.data)})]})}let S=(0,d.A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var R=t(83252);function O(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}function T(...e){return r=>{let t=!1,s=e.map(e=>{let s=O(e,r);return t||"function"!=typeof s||(t=!0),s});if(t)return()=>{for(let r=0;r<s.length;r++){let t=s[r];"function"==typeof t?t():O(e[r],null)}}}}function _(...e){return a.useCallback(T(...e),e)}var q=t(6004);function I(e,r,{checkForDefaultPrevented:t=!0}={}){return function(s){if(e?.(s),!1===t||!s.defaultPrevented)return r?.(s)}}var U=t(13024),L=t(66582),V=t(38762),W=t(49397),$=e=>{let{present:r,children:t}=e,s=function(e){var r,t;let[s,i]=a.useState(),n=a.useRef({}),l=a.useRef(e),o=a.useRef("none"),[d,c]=(r=e?"mounted":"unmounted",t={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},a.useReducer((e,r)=>t[e][r]??e,r));return a.useEffect(()=>{let e=B(n.current);o.current="mounted"===d?e:"none"},[d]),(0,W.N)(()=>{let r=n.current,t=l.current;if(t!==e){let s=o.current,a=B(r);e?c("MOUNT"):"none"===a||r?.display==="none"?c("UNMOUNT"):t&&s!==a?c("ANIMATION_OUT"):c("UNMOUNT"),l.current=e}},[e,c]),(0,W.N)(()=>{if(s){let e;let r=s.ownerDocument.defaultView??window,t=t=>{let a=B(n.current).includes(t.animationName);if(t.target===s&&a&&(c("ANIMATION_END"),!l.current)){let t=s.style.animationFillMode;s.style.animationFillMode="forwards",e=r.setTimeout(()=>{"forwards"===s.style.animationFillMode&&(s.style.animationFillMode=t)})}},a=e=>{e.target===s&&(o.current=B(n.current))};return s.addEventListener("animationstart",a),s.addEventListener("animationcancel",t),s.addEventListener("animationend",t),()=>{r.clearTimeout(e),s.removeEventListener("animationstart",a),s.removeEventListener("animationcancel",t),s.removeEventListener("animationend",t)}}c("ANIMATION_END")},[s,c]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:a.useCallback(e=>{e&&(n.current=getComputedStyle(e)),i(e)},[])}}(r),i="function"==typeof t?t({present:s.isPresent}):a.Children.only(t),n=_(s.ref,function(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(i));return"function"==typeof t||s.isPresent?a.cloneElement(i,{ref:n}):null};function B(e){return e?.animationName||"none"}$.displayName="Presence",t(55740);var K=a.forwardRef((e,r)=>{let{children:t,...i}=e,n=a.Children.toArray(t),l=n.find(X);if(l){let e=l.props.children,t=n.map(r=>r!==l?r:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,s.jsx)(G,{...i,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,t):null})}return(0,s.jsx)(G,{...i,ref:r,children:t})});K.displayName="Slot";var G=a.forwardRef((e,r)=>{let{children:t,...s}=e;if(a.isValidElement(t)){let e=function(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(t);return a.cloneElement(t,{...function(e,r){let t={...r};for(let s in r){let a=e[s],i=r[s];/^on[A-Z]/.test(s)?a&&i?t[s]=(...e)=>{i(...e),a(...e)}:a&&(t[s]=a):"style"===s?t[s]={...a,...i}:"className"===s&&(t[s]=[a,i].filter(Boolean).join(" "))}return{...e,...t}}(s,t.props),ref:r?T(r,e):e})}return a.Children.count(t)>1?a.Children.only(null):null});G.displayName="SlotClone";var H=({children:e})=>(0,s.jsx)(s.Fragment,{children:e});function X(e){return a.isValidElement(e)&&e.type===H}var Z=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,r)=>{let t=a.forwardRef((e,t)=>{let{asChild:a,...i}=e,n=a?K:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(n,{...i,ref:t})});return t.displayName=`Primitive.${r}`,{...e,[r]:t}},{}),J="Checkbox",[Y,Q]=(0,q.A)(J),[ee,er]=Y(J),et=a.forwardRef((e,r)=>{let{__scopeCheckbox:t,name:i,checked:n,defaultChecked:l,required:o,disabled:d,value:c="on",onCheckedChange:m,form:u,...p}=e,[h,x]=a.useState(null),f=_(r,e=>x(e)),g=a.useRef(!1),b=!h||u||!!h.closest("form"),[v=!1,y]=(0,U.i)({prop:n,defaultProp:l,onChange:m}),j=a.useRef(v);return a.useEffect(()=>{let e=h?.form;if(e){let r=()=>y(j.current);return e.addEventListener("reset",r),()=>e.removeEventListener("reset",r)}},[h,y]),(0,s.jsxs)(ee,{scope:t,state:v,disabled:d,children:[(0,s.jsx)(Z.button,{type:"button",role:"checkbox","aria-checked":en(v)?"mixed":v,"aria-required":o,"data-state":el(v),"data-disabled":d?"":void 0,disabled:d,value:c,...p,ref:f,onKeyDown:I(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:I(e.onClick,e=>{y(e=>!!en(e)||!e),b&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})}),b&&(0,s.jsx)(ei,{control:h,bubbles:!g.current,name:i,value:c,checked:v,required:o,disabled:d,form:u,style:{transform:"translateX(-100%)"},defaultChecked:!en(l)&&l})]})});et.displayName=J;var es="CheckboxIndicator",ea=a.forwardRef((e,r)=>{let{__scopeCheckbox:t,forceMount:a,...i}=e,n=er(es,t);return(0,s.jsx)($,{present:a||en(n.state)||!0===n.state,children:(0,s.jsx)(Z.span,{"data-state":el(n.state),"data-disabled":n.disabled?"":void 0,...i,ref:r,style:{pointerEvents:"none",...e.style}})})});ea.displayName=es;var ei=e=>{let{control:r,checked:t,bubbles:i=!0,defaultChecked:n,...l}=e,o=a.useRef(null),d=(0,L.Z)(t),c=(0,V.X)(r);a.useEffect(()=>{let e=o.current,r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(d!==t&&r){let s=new Event("click",{bubbles:i});e.indeterminate=en(t),r.call(e,!en(t)&&t),e.dispatchEvent(s)}},[d,t,i]);let m=a.useRef(!en(t)&&t);return(0,s.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n??m.current,...l,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function en(e){return"indeterminate"===e}function el(e){return en(e)?"indeterminate":e?"checked":"unchecked"}var eo=t(24849);let ed=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)(et,{ref:t,className:(0,N.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...r,children:(0,s.jsx)(ea,{className:(0,N.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(eo.A,{className:"h-4 w-4"})})}));ed.displayName=et.displayName;let ec=(0,d.A)("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);var em=t(47699);function eu({label:e,type:r,handleFileUpload:t,isDragging:a,onDragEnter:n,onDragLeave:l,onDragOver:o,onDrop:d,files:c,removeFile:m}){let u=i().useRef(null);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("p",{className:"text-sm my-px",children:e}),(0,s.jsx)("div",{className:`bg-white h-40 w-full lg:max-w-[416px] rounded-lg flex items-center justify-center shadow-sm ${a?"border-solid border-[#7065F0]":"border-dashed border-[#CACACA]"} border`,onDragEnter:n,onDragLeave:l,onDragOver:o,onDrop:d,children:(0,s.jsxs)("label",{className:"w-[90%] h-[85%] flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,s.jsx)("input",{ref:u,type:"file",className:"hidden",onChange:e=>t(e,r),accept:"image/*, video/mp4, video/webm",multiple:"Other files"===e}),(0,s.jsx)("span",{className:"w-11 h-11 bg-[#F5F5F5] flex items-center justify-center rounded-full mb-2",children:(0,s.jsx)(ec,{className:"text-[#7065F0]",size:24})}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsxs)("p",{className:"text-center text-sm",children:[(0,s.jsx)("span",{className:"text-[#7065F0] font-medium hover:underline",children:"Click to upload"})," ","or"," ",(0,s.jsx)("span",{className:"text-[#7065F0] font-medium hover:underline",children:"Drag and drop"})]}),(0,s.jsx)("small",{className:"text-[#707070] mt-1",children:"(Max. file size: 25 MB)"})]})]})})]}),c.length>0&&(0,s.jsx)("div",{className:"block md:hidden mt-2 w-full",children:(0,s.jsx)("div",{className:"space-y-2 w-full",children:c.map((e,r)=>(0,s.jsxs)("div",{className:"flex items-center justify-between bg-gray-100 p-2 rounded-md w-full",children:[(0,s.jsx)(em.J,{className:"text-sm inline-block truncate max-w-[300px] sm:max-w-[320px] md:max-w-[420px]",children:e.name}),m&&(0,s.jsx)("button",{type:"button",onClick:()=>m(r),className:"text-red-500 hover:bg-red-100 rounded-full p-1",children:(0,s.jsx)(E.A,{size:16})})]},r))})})]})}function ep({label:e,selected:r,onClick:t,className:a=""}){return(0,s.jsx)(m.$,{variant:"outline",type:"button",onClick:e=>{e.preventDefault(),t()},className:`capitalize flex items-center px-2 rounded-lg border border-gray-400 w-24 transition-all duration-200 ${r?"bg-[#7065f0] text-white":"hover:bg-[#7065f0]/10"} ${a}`,children:(0,s.jsx)("span",{className:"truncate",children:e})})}function eh({message:e}){return e?(0,s.jsx)("p",{className:"text-red-500 text-sm mt-2",children:e}):null}function ex({errors:e}){let r=Object.values(e).map(e=>e.message||null).filter(Boolean);return 0===r.length?null:(0,s.jsxs)("div",{className:"bg-red-100 text-red-600 p-4 rounded",children:[(0,s.jsx)("h3",{className:"font-bold mb-2",children:"Please fix the following errors:"}),(0,s.jsx)("ul",{className:"list-disc pl-5",children:r.map((e,r)=>(0,s.jsx)("li",{children:e},r))})]})}function ef({control:e,errors:r,watch:t,setValue:l,handlePrimaryFileUpload:o,handleOtherFileUpload:d,handleSaveDraft:c,onDragEnter:u,onDragLeave:p,onDragOver:h,onDrop:y,onInputChange:N,onSubmit:P,isDragging:k}){return(0,s.jsxs)("aside",{className:"mx-auto flex flex-col space-y-8 bg-gradient-to-b from-neutral-50 to-white/70 rounded-lg",children:[(0,s.jsx)("h2",{className:"text-[#000929] text-[1.25rem] font-medium mb-3 capitalize",children:"Property Listing Form"}),(0,s.jsx)(ex,{errors:r}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),P(e)},className:"w-full space-y-8",children:[(0,s.jsxs)("section",{"aria-label":"Image Upload",children:[(0,s.jsx)("h2",{className:"text-[#000929] text-xl font-medium mb-3",children:"Add Images"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-10",children:[(0,s.jsx)(eu,{label:"Primary file",type:"primary",handleFileUpload:e=>o(e,"primary"),isDragging:k,onDragEnter:u,onDragLeave:p,onDragOver:h,onDrop:e=>y(e,"primary"),files:t("primaryFile")?[t("primaryFile")]:[],removeFile:()=>{l("primaryFile",{name:"",data:""})}}),(0,s.jsx)(eu,{label:"Other files",type:"other",handleFileUpload:e=>d(e,"other"),isDragging:k,onDragEnter:u,onDragLeave:p,onDragOver:h,onDrop:e=>y(e,"other"),files:t("otherFiles")||[],removeFile:e=>{l("otherFiles",(t("otherFiles")||[]).filter((r,t)=>t!==e))}})]})]}),(0,s.jsxs)("div",{className:"mt-10 w-full md:w-[200px] h-auto",children:[(0,s.jsx)("h2",{className:"text-[#000929] text-xl font-medium mb-3",children:"Price"}),(0,s.jsx)(n.xI,{name:"price",control:e,rules:{required:"Price is required",validate:e=>!isNaN(Number(e))||"Price must be a valid number"},render:({field:e})=>(0,s.jsx)(j.p,{...e,type:"number",min:0,step:.01,className:"pl-8 focus-visible:ring-1 focus-visible:ring-[#7065F0] bg-[#F7F7F7] border border-[#E6E6E6]",placeholder:"Enter property price"})}),(0,s.jsx)(eh,{message:r.price?.message})]}),(0,s.jsxs)("div",{className:"w-full mt-10 md:w-[200px] h-auto",children:[(0,s.jsx)("h2",{className:"text-[#000929] text-xl font-medium mb-3",children:"Duration"}),(0,s.jsx)(n.xI,{name:"duration",control:e,render:({field:e})=>(0,s.jsx)("select",{...e,className:"w-full rounded-md border border-gray-300 bg-[#F7F7F7] py-2 px-3 shadow-sm focus:border-[#7065F0] focus:outline-none focus:ring-1 focus:ring-[#7065F0]",children:x.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})}),(0,s.jsx)(eh,{message:r.duration?.message})]}),(0,s.jsxs)("div",{className:" mt-10",children:[(0,s.jsx)("h2",{className:"text-[#000929] text-xl font-medium mb-3",children:"Building Type"}),(0,s.jsx)(n.xI,{name:"buildingType",control:e,render:({field:e})=>(0,s.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 mt-2",children:f.map(r=>(0,a.createElement)(ep,{...e,key:r,label:r,selected:e.value===r,onClick:()=>{e.onChange(r)}}))})}),(0,s.jsx)(eh,{message:r.buildingType?.message})]}),[{label:"No. of Beds",options:g,fieldName:"beds"},{label:"No. of Baths",options:b,fieldName:"baths"}].map(({label:t,options:l,fieldName:o},d)=>(0,s.jsx)(i().Fragment,{children:function({control:e,label:r,options:t,fieldName:i,errors:l}){return(0,s.jsxs)("div",{className:"mt-10",children:[(0,s.jsx)("h2",{className:"text-[#000929] text-xl font-medium mb-3",children:r}),(0,s.jsx)(n.xI,{name:i,control:e,render:({field:e})=>(0,s.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 mt-2",children:t.map(r=>(0,a.createElement)(ep,{...e,key:r,label:r,selected:e.value===r,onClick:()=>e.onChange(r)}))})}),(0,s.jsx)(eh,{message:l[i]?.message})]})}({errors:r,control:e,label:t,options:l,fieldName:o})},`${o}-${d}`)),(0,s.jsxs)("div",{className:"mt-10",children:[(0,s.jsx)("h2",{className:"text-[#000929] text-xl font-medium mb-3",children:"Amenities"}),(0,s.jsx)(n.xI,{name:"amenities",control:e,render:({field:e})=>(0,s.jsx)("div",{className:"mt-2 grid grid-cols-2 lg:grid-cols-3 gap-5",children:v.map(r=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(ed,{...e,id:`preview-${r}`,checked:e.value?.includes(r),onCheckedChange:t=>{let s=t?[...e.value||[],r]:(e.value||[]).filter(e=>e!==r);e.onChange(s)}}),(0,s.jsx)(em.J,{htmlFor:`preview-${r}`,children:r})]},r))})}),(0,s.jsx)(eh,{message:r.amenities?.message})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-[#000929] text-xl font-medium mb-3",children:"Address"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(n.xI,{name:"address",control:e,render:({field:e})=>(0,s.jsx)(j.p,{...e,onChange:r=>{e.onChange(r),N("address",r.target.value)},className:"bg-[#F7F7F7] border border-[#E6E6E6] pr-14 focus-visible:ring-1 focus-visible:ring-[#7065F0]",placeholder:"Enter property address","aria-label":"Property address"})}),(0,s.jsxs)("div",{className:"mt-2 flex items-center space-x-5",children:[(0,s.jsx)(F,{minValue:t("address")?.length||0,maxValue:150,className:"bg-[#F7F7F7] text-xs w-fit"}),(0,s.jsx)(eh,{message:r.address?.message})]})]})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-[#000929] text-xl font-medium mb-3",children:"Description"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(n.xI,{name:"description",control:e,render:({field:e})=>(0,s.jsx)(w,{...e,onChange:r=>{e.onChange(r),N("description",r.target.value)},className:"bg-[#F7F7F7] border border-[#E6E6E6] pr-14 focus-visible:ring-1 focus-visible:ring-[#7065F0] min-h-[150px]",placeholder:"Describe the property","aria-label":"Property description"})}),(0,s.jsxs)("div",{className:"mt-2 flex items-center space-x-5",children:[(0,s.jsx)(F,{minValue:t("description")?.length||0,maxValue:1500,className:"bg-[#F7F7F7] text-xs w-fit"}),(0,s.jsx)(eh,{message:r.description?.message})]})]})]}),(0,s.jsxs)("section",{className:"flex items-center justify-center gap-6 pt-4",children:[(0,s.jsxs)(m.$,{type:"button",onClick:c,className:"flex items-center gap-2 h-12 lg:text-[1.1rem] bg-white text-[#037F4A] shadow-sm hover:bg-[#F5FFF9] border border-[#037F4A] transition-colors","aria-label":"Save draft",children:[(0,s.jsx)("span",{children:"Save"}),(0,s.jsx)(S,{size:18})]}),(0,s.jsxs)(m.$,{type:"submit",className:"flex items-center gap-2 h-12 lg:text-[1.1rem] bg-[#7065F0] hover:bg-[#5B52C5] transition-colors","aria-label":"Upload listing",children:[(0,s.jsx)("span",{children:"Upload"}),(0,s.jsx)(R.A,{size:18})]})]})]})]})}let eg={address:"",description:"",price:"",duration:"1 year",primaryFile:{name:"",data:""},otherFiles:[],buildingType:"flat",beds:"2 beds",baths:"3 baths",amenities:[],error:null,errorMessage:null};function eb(){let e=(0,o.useRouter)(),[r,t]=(0,a.useState)(null),[i,d]=(0,a.useState)(!1),{handleSubmit:x,watch:f,setValue:g,control:b,formState:{errors:v}}=(0,n.mN)({resolver:(0,l.u)(p.Ry),defaultValues:eg,mode:"onChange"});f();let j=(e,r)=>{e.preventDefault(),e.target?.files?.length&&y(e.target.files,r,g,f)},N=(e,r)=>{e.preventDefault(),e.stopPropagation(),d(r);let t=e.currentTarget;r?t.classList.add("drag-over"):t.classList.remove("drag-over")},w=async r=>{if(!r.primaryFile||!r.primaryFile.data){t({field:"primaryFile",message:"Primary image is required"});return}try{localStorage.removeItem("property_listing_draft"),e.push("/admin/property-management")}catch(e){console.error("Error submitting form:",e),t({field:"submit",message:"Failed to submit the form"})}};return(0,s.jsx)(u.default,{title:"Create Listing",children:(0,s.jsxs)("main",{className:"p-5",children:[(0,s.jsxs)(m.$,{variant:"default",onClick:()=>e.push("/admin/property-management"),className:"capitalize flex items-center space-x-1 bg-[#7065F0] mb-5",children:[(0,s.jsx)(c,{}),(0,s.jsx)("span",{children:"Go Back"})]}),r&&(0,s.jsx)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded",children:r.message}),(0,s.jsxs)("section",{className:"w-full grid lg:grid-cols-2 gap-20",children:[(0,s.jsx)(ef,{control:b,errors:v,watch:f,setValue:g,onInputChange:g,handlePrimaryFileUpload:e=>j(e,"primary"),handleOtherFileUpload:e=>j(e,"other"),onDragOver:e=>N(e,!0),onDragEnter:e=>N(e,!0),onDragLeave:e=>N(e,!1),handleSaveDraft:()=>{try{h.o.success("Draft saved successfully")}catch(e){console.error("Error saving draft:",e),h.o.error("Failed to save draft.")}},isDragging:i,onDrop:(e,r)=>{e.preventDefault(),d(!1),y(e.dataTransfer.files,r,g,f)},onSubmit:x(w)}),(0,s.jsx)(M,{watch:f,primaryFile:f("primaryFile"),otherFiles:f("otherFiles"),onImageDelete:(e,r)=>{confirm("Are you sure you want to delete this file?")&&("primary"===e?(g("primaryFile",{name:"",data:""}),h.o.success("Primary file removed")):"other"===e&&void 0!==r&&(g("otherFiles",(f("otherFiles")||[]).filter((e,t)=>t!==r)),h.o.success("File removed")))}})]})]})})}},47699:(e,r,t)=>{"use strict";t.d(r,{J:()=>d});var s=t(45512),a=t(58009),i=t(92405),n=t(32101),l=t(59462);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)(i.b,{ref:t,className:(0,l.cn)(o(),e),...r}));d.displayName=i.b.displayName},54479:(e,r,t)=>{"use strict";t.d(r,{E9:()=>n,Ry:()=>d,Sd:()=>a,X5:()=>i,oW:()=>l,yo:()=>o});var s=t(16131);let a=s.z.object({email:s.z.string({required_error:"Please enter a valid email address."}).email(),password:s.z.string({required_error:"Please enter a password."}),confirmPassword:s.z.string({required_error:"Please confirm your password."})}).refine(e=>e.password===e.confirmPassword,{path:["confirmPassword"],message:"Passwords must match."}),i=s.z.object({email:s.z.string({required_error:"Please enter a valid email address."}).email()}),n=s.z.object({email:s.z.string({required_error:"Please enter a valid email address."}).email()}),l=s.z.object({password:s.z.string({required_error:"Please enter a password."}),confirmPassword:s.z.string({required_error:"Please confirm your password."})}).refine(e=>e.password===e.confirmPassword,{path:["confirmPassword"],message:"Passwords must match."}),o=s.z.object({name:s.z.string({required_error:"Please enter your full name"}),email:s.z.string({required_error:"Please enter a valid email address."}).email(),message:s.z.string({required_error:"Please enter a message"})}),d=s.z.object({address:s.z.string().min(1,"Address is required").max(150,"Address must be less than 150 characters"),description:s.z.string().min(1,"Description is required").max(1500,"Description must be less than 1500 characters"),price:s.z.string().min(1,"Price is required").refine(e=>!isNaN(Number(e)),"Price must be a valid number"),duration:s.z.enum(["1 year","2 years","3 years"],{required_error:"Please select a duration"}),primaryFile:s.z.string().min(1,"Main image is required"),otherFiles:s.z.array(s.z.string()).min(1,"At least one image is required for other images").max(7,"Maximum 6 images allowed"),buildingType:s.z.enum(["apartment","shortlet","flat","hotel","condo"],{required_error:"Please select a building type"}),beds:s.z.enum(["1 bed","2 beds","3 beds","4 beds","5+ beds"],{required_error:"Please select number of beds"}),baths:s.z.enum(["1 bath","2 baths","3 baths","4 baths","5+ baths"],{required_error:"Please select number of baths"}),amenities:s.z.array(s.z.enum(["Gym","POP Ceiling","Water Treatment","Security","Parking Space","Spacious Compound","24/7 Electricity","Supermarket Nearby","Swimming Pool","Fast Internet","Restaurants Nearby","Free WiFi"])),error:s.z.string().nullable()})},24849:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(41680).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},83252:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(41680).A)("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]])},17210:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\KINPLUS\\\\Documents\\\\Tochi\\\\Projects\\\\ezyrent-web\\\\app\\\\admin\\\\property-management\\\\create-listing\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\KINPLUS\\Documents\\Tochi\\Projects\\ezyrent-web\\app\\admin\\property-management\\create-listing\\page.tsx","default")},97983:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n,metadata:()=>i});var s=t(62740),a=t(65554);t(76301);let i=(0,a.X)({title:"All Listing",description:"Manage your listing",path:"/admin/property-management"});function n({children:e}){return(0,s.jsx)("section",{className:"",children:e})}},13024:(e,r,t)=>{"use strict";t.d(r,{i:()=>i});var s=t(58009),a=t(92828);function i({prop:e,defaultProp:r,onChange:t=()=>{}}){let[i,n]=function({defaultProp:e,onChange:r}){let t=s.useState(e),[i]=t,n=s.useRef(i),l=(0,a.c)(r);return s.useEffect(()=>{n.current!==i&&(l(i),n.current=i)},[i,n,l]),t}({defaultProp:r,onChange:t}),l=void 0!==e,o=l?e:i,d=(0,a.c)(t);return[o,s.useCallback(r=>{if(l){let t="function"==typeof r?r(e):r;t!==e&&d(t)}else n(r)},[l,e,n,d])]}},66582:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});var s=t(58009);function a(e){let r=s.useRef({value:e,previous:e});return s.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}},38762:(e,r,t)=>{"use strict";t.d(r,{X:()=>i});var s=t(58009),a=t(49397);function i(e){let[r,t]=s.useState(void 0);return(0,a.N)(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});let r=new ResizeObserver(r=>{let s,a;if(!Array.isArray(r)||!r.length)return;let i=r[0];if("borderBoxSize"in i){let e=i.borderBoxSize,r=Array.isArray(e)?e[0]:e;s=r.inlineSize,a=r.blockSize}else s=e.offsetWidth,a=e.offsetHeight;t({width:s,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}t(void 0)},[e]),r}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,706,287,310,811,832],()=>t(10999));module.exports=s})();